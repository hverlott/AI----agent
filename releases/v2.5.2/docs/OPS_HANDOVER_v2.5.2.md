# v2.5.2 å‡çº§æ“ä½œæ‰‹å†Œ (Ops Handover Guide)

**ç›®æ ‡ç‰ˆæœ¬**: v2.5.2
**å½“å‰ç‰ˆæœ¬**: v2.5.1
**æ“ä½œäººå‘˜**: è¿ç»´å·¥ç¨‹å¸ˆ (DevOps/SRE)
**é¢„è®¡è€—æ—¶**: 5-10 åˆ†é’Ÿ

---

## 1. å‡çº§åŒ…å‡†å¤‡

è¯·ç¡®ä¿æ‚¨å·²è·å¾—ä»¥ä¸‹æ–‡ä»¶ï¼š
- å‡çº§åŒ…: `SaaS-AI-System-v2.5.2.zip`

## 2. å‡çº§æ–¹æ¡ˆé€‰æ‹©

æ ¹æ®æ‚¨çš„æœåŠ¡å™¨è®¿é—®æƒé™ï¼Œé€‰æ‹©ä»¥ä¸‹ä»»ä¸€æ–¹æ¡ˆï¼š

### æ–¹æ¡ˆ Aï¼šWeb åå°è‡ªåŠ¨å‡çº§ (æ¨è)
*é€‚ç”¨åœºæ™¯ï¼šæ‹¥æœ‰ç³»ç»Ÿ SuperAdmin è´¦å·ï¼Œä¸”æœåŠ¡å™¨å…è®¸å‡ºç½‘æˆ–æœ¬åœ°ä¸Šä¼ ã€‚*

1. ç™»å½•ç®¡ç†åå° (é»˜è®¤ç«¯å£ 8501)ã€‚
2. å¯¼èˆªè‡³ **ç³»ç»Ÿç®¡ç†** -> **ğŸš€ ç³»ç»Ÿå‡çº§ä¸ç»´æŠ¤**ã€‚
3. åœ¨ **â€œâ˜ï¸ åœ¨çº¿å‡çº§â€** æˆ– **â€œğŸ“¦ ç¦»çº¿åŒ…å‡çº§â€** åŒºåŸŸæ“ä½œã€‚
   - å¦‚æœæœåŠ¡å™¨å¯è”ç½‘ GitHubï¼Œç›´æ¥ç‚¹å‡» **â€œğŸ” æ£€æŸ¥æ›´æ–°â€** -> **â€œâ¬‡ï¸ ä¸‹è½½å¹¶å®‰è£…â€**ã€‚
   - å¦‚æœæ˜¯å†…ç½‘ç¯å¢ƒï¼Œè¯·ä½¿ç”¨ **â€œç³»ç»Ÿå‡çº§â€** (æ—§ç‰ˆå…¥å£) ä¸Šä¼  `SaaS-AI-System-v2.5.2.zip`ã€‚
4. ç³»ç»Ÿä¼šè‡ªåŠ¨å®Œæˆè§£å‹ã€è¿ç§»å’Œé‡å¯ã€‚

---

### æ–¹æ¡ˆ Bï¼šæœåŠ¡å™¨ç«¯æ‰‹åŠ¨å‡çº§ (æ ‡å‡†æµç¨‹)
*é€‚ç”¨åœºæ™¯ï¼šä»…æœ‰ SSH/RDP æƒé™ï¼Œéœ€ä¸¥æ ¼æ§åˆ¶å˜æ›´æµç¨‹ã€‚*

#### æ­¥éª¤ 1: å¤‡ä»½ (Critical)
åœ¨æ‰§è¡Œä»»ä½•æ“ä½œå‰ï¼Œè¯·å¤‡ä»½å½“å‰è¿è¡Œç›®å½•ä¸‹çš„ `data` æ–‡ä»¶å¤¹ã€‚
```bash
# Linux
cp -r /path/to/project/data /path/to/project/data_backup_v2.5.1

# Windows
xcopy data data_backup_v2.5.1 /E /I
```

#### æ­¥éª¤ 2: éƒ¨ç½²æ–°ç‰ˆæœ¬ä»£ç 
å°†å‡çº§åŒ…è§£å‹åˆ° `releases` ç›®å½•ä¸‹çš„æ–°ç‰ˆæœ¬æ–‡ä»¶å¤¹ä¸­ã€‚

å‡è®¾æ ¹ç›®å½•ä¸º `/app/SaaS-AIs/`ï¼Œå½“å‰è¿è¡Œåœ¨ `/app/SaaS-AIs/releases/v2.5.1/`ã€‚

1. åˆ›å»ºæ–°ç›®å½•: `/app/SaaS-AIs/releases/v2.5.2/`
2. è§£å‹ `SaaS-AI-System-v2.5.2.zip` åˆ°è¯¥ç›®å½•ã€‚

#### æ­¥éª¤ 3: æ•°æ®åº“è¿ç§»
v2.5.2 å¼•å…¥äº†é…ç½®æ•°æ®åº“åŒ–ï¼Œ**å¿…é¡»**æ‰§è¡Œè¿ç§»è„šæœ¬ã€‚

**Windows:**
```powershell
cd D:\SaaS-AIs\releases\v2.5.2
..\..\.venv\Scripts\activate
python scripts/migrate_to_db.py
```

**Linux:**
```bash
cd /app/SaaS-AIs/releases/v2.5.2
source ../../.venv/bin/activate
python scripts/migrate_to_db.py
```
> **éªŒè¯**: è„šæœ¬åº”è¾“å‡º "Migration successful" æˆ– "Configuration migrated to DB"ã€‚

#### æ­¥éª¤ 4: åˆ‡æ¢ç‰ˆæœ¬
ä½¿ç”¨å†…ç½®å·¥å…·æˆ–æ‰‹åŠ¨ä¿®æ”¹å¯åŠ¨è„šæœ¬ã€‚

**æ–¹å¼ 1 (æ¨è): ä½¿ç”¨ç‰ˆæœ¬ç®¡ç†å™¨**
```bash
# åœ¨ v2.5.2 ç›®å½•ä¸‹è¿è¡Œ
python -c "from version_manager import VersionManager; vm = VersionManager('.'); vm.switch_version('v2.5.2')"
```

**æ–¹å¼ 2 (æ‰‹åŠ¨): ä¿®æ”¹ start.bat / start.sh**
ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„ `start.bat`ï¼Œä¿®æ”¹ `LATEST_VERSION` å˜é‡ï¼š
```bat
set "LATEST_VERSION=v2.5.2"
```

#### æ­¥éª¤ 5: é‡å¯æœåŠ¡
é‡å¯ä¸»è¿›ç¨‹å’Œç®¡ç†åå°ã€‚
```bash
# åœæ­¢æ—§è¿›ç¨‹
# å¯åŠ¨æ–°è¿›ç¨‹
./start_admin.bat
python main.py
```

---

## 3. éªŒè¯æ¸…å•

1. **ç‰ˆæœ¬æ£€æŸ¥**: ç™»å½•åå°ï¼Œåº•éƒ¨ç‰ˆæœ¬å·åº”æ˜¾ç¤º `v2.5.2`ã€‚
2. **åŠŸèƒ½æ£€æŸ¥**:
   - è¿›å…¥ **Telegram é…ç½®**ï¼Œç¡®è®¤å¯ä»¥çœ‹åˆ° **å†…å®¹è¿‡æ»¤é…ç½®** é¢æ¿ã€‚
   - è¿›å…¥ **æŠ€èƒ½ä¸­å¿ƒ**ï¼Œåˆ—è¡¨åŠ è½½æ­£å¸¸ã€‚
3. **æ—¥å¿—æ£€æŸ¥**: æŸ¥çœ‹ `platforms/telegram/logs/system.log` æ— æŠ¥é”™ã€‚

---

**é‡åˆ°é—®é¢˜?**
è¯·æ‰§è¡Œå›æ»šï¼šå°† `start.bat` ä¸­çš„ç‰ˆæœ¬æ”¹å› `v2.5.1` å¹¶é‡å¯å³å¯ã€‚
