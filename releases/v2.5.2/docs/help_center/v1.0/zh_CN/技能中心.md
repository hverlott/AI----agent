# Skills 技能中心

Version: 2.5.2
Last Updated: 2026-01-15

## 1. 功能用途

Skills 技能中心用于配置“可选增强能力”，按业务线（AI 业务线）对回复进行规则/Prompt 注入。

**v2.5.2 新特性**：实现了完整的可视化管理面板，支持在线启用/禁用技能、实时配置 JSON 规则，并即时生效。

兼容性说明：Skills 为可选增强，默认行为不受影响；开启技能仅在匹配的回复路径中生效。

## 2. 入口与权限

- 面包屑：左侧菜单「🤖 AI 配置中心」>「🛠️ 技能中心」

| 角色 | 是否可用 | 租户范围 |
| :--- | :--- | :--- |
| 超级管理员（SuperAdmin） | 可用 | 可切换租户后管理不同租户技能 |
| 业务管理员（BusinessAdmin） | 可用 | 仅可管理绑定租户技能 |

## 3. 技能列表与状态管理

入口：进入技能中心后，主界面即为技能列表。

1. **查看技能**：列表展示 技能ID、名称、启用状态、绑定模型。
2. **一键开关**：直接在列表中点击 "Enabled" 复选框，可实时开启或关闭该技能。
3. **删除技能**：点击每行末尾的 "删除" 按钮。

预期结果：状态变更实时写入数据库，无需重启机器人。

## 4. 新增/编辑技能

入口：在技能列表上方或底部，使用配置表单。

### 4.1 基本信息
- **ID**: 唯一标识符（自动生成或手动指定）。
- **名称**: 技能的显示名称（如 "Calculator"）。
- **描述**: 技能用途的简短说明。

### 4.2 高级配置
- **绑定 AI 模型 (Bound AI)**:
  - `全部/不绑定`：通用技能，适用于所有模型。
  - 指定 AI：仅当会话使用该特定模型时才加载此技能。
- **配置内容 (JSON)**:
  - 直接编辑 JSON 格式的配置。
  - 包含 `prompt` (提示词模板) 或 `rule` (逻辑规则)。

示例配置：
```json
{
  "type": "prompt",
  "content": "你是一个计算器助手，当用户询问数学问题时，请一步步计算。",
  "trigger": "math"
}
```

### 4.3 保存
点击「💾 保存技能」按钮，系统将校验 JSON 格式并保存至数据库。

## 5. 生效规则（与回复路径的关系）

系统存在两类主要回复路径：

- 知识库直答（KB_ONLY）：启用技能中 `kb_only` 与 `both` 会被注入。
- 剧本/SOP（编排）：启用技能中 `script_only` 与 `both` 会被注入。

## 6. 安全与规范

- 不要在技能模板中写入 API Key、Token、密码等敏感信息。
- 技能内容会影响最终回复风格与合规性；建议先在测试环境验证，再在生产租户启用。

## 修订记录

| 版本号 | 更新日期 | 修改人 | 修改摘要 |
| :--- | :--- | :--- | :--- |
| v2.5.2 | 2026-01-15 | System Admin | 更新可视化管理面板说明，适配 v2.5.2 数据库存储 |
| v2.5.1 | 2026-01-09 | Tech Writer | 新增 Skills 技能中心操作指南与生效规则说明 |
