# ğŸ”§ æ•°æ®åº“é”å®šé—®é¢˜è§£å†³æ–¹æ¡ˆ

## âŒ é”™è¯¯ä¿¡æ¯
```
âŒ è·å–åˆ†ç»„å¤±è´¥: database is locked
```

## ğŸ“ é—®é¢˜åŸå› 

è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸º SQLite æ•°æ®åº“ï¼ˆsession æ–‡ä»¶ï¼‰åŒæ—¶è¢«å¤šä¸ªè¿›ç¨‹è®¿é—®å¯¼è‡´çš„ï¼š

1. `main.py` æœºå™¨äººæ­£åœ¨è¿è¡Œï¼Œå ç”¨äº† `userbot_session.session`
2. `admin.py` ç®¡ç†åå°è¯•å›¾åŒæ—¶è®¿é—®åŒä¸€ä¸ªæ–‡ä»¶
3. SQLite ä¸å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶å†™å…¥

## âœ… è§£å†³æ–¹æ¡ˆï¼ˆå·²è‡ªåŠ¨ä¿®å¤ï¼‰

### æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ç‹¬ç«‹ Sessionï¼ˆæ¨èï¼‰âœ¨

**ä»£ç å·²æ›´æ–°ï¼** ç°åœ¨ `admin.py` ä¼šè‡ªåŠ¨ä½¿ç”¨ç‹¬ç«‹çš„ `admin_session.session` æ–‡ä»¶ï¼Œé¿å…ä¸ `main.py` å†²çªã€‚

**å·¥ä½œåŸç†ï¼š**
```python
# é¦–æ¬¡è¿è¡Œæ—¶ï¼Œè‡ªåŠ¨å¤åˆ¶ userbot_session.session
admin_session = 'admin_session'
if not os.path.exists(f'{admin_session}.session'):
    shutil.copy('userbot_session.session', f'{admin_session}.session')

# ä½¿ç”¨ç‹¬ç«‹ session
client = TelegramClient('admin_session', API_ID, API_HASH)
```

### æ–¹æ¡ˆ 2ï¼šåœæ­¢æœºå™¨äººåä½¿ç”¨ç¾¤å‘

å¦‚æœä»ç„¶é‡åˆ°é”å®šé—®é¢˜ï¼š

1. åœ¨ç®¡ç†åå°ä¾§è¾¹æ ç‚¹å‡» **"â›” åœæ­¢"** æŒ‰é’®
2. ç­‰å¾… 2-3 ç§’ç¡®ä¿è¿›ç¨‹å®Œå…¨åœæ­¢
3. ç„¶åä½¿ç”¨ç¾¤å‘åŠŸèƒ½
4. ç¾¤å‘å®Œæˆåï¼Œå†ç‚¹å‡» **"ğŸš€ å¯åŠ¨"** æŒ‰é’®

## ğŸš€ ä½¿ç”¨æµç¨‹

### æ¨èæµç¨‹ï¼ˆæœºå™¨äººç»§ç»­è¿è¡Œï¼‰

```
1. å¯åŠ¨ç®¡ç†åå°
   streamlit run admin.py

2. é¦–æ¬¡ä½¿ç”¨ç¾¤å‘åŠŸèƒ½æ—¶
   â†’ ç‚¹å‡»"åŠ è½½åˆ†ç»„"
   â†’ ç¨‹åºè‡ªåŠ¨åˆ›å»º admin_session.session
   â†’ âœ… ä¸ä¼šå†²çªï¼

3. æ­£å¸¸ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½
   â†’ æœºå™¨äººç»§ç»­è‡ªåŠ¨å›å¤
   â†’ åŒæ—¶å¯ä»¥ä½¿ç”¨ç¾¤å‘åŠŸèƒ½
```

### å¤‡ç”¨æµç¨‹ï¼ˆå¦‚æœè¿˜æ˜¯æœ‰é—®é¢˜ï¼‰

```
1. åœæ­¢æœºå™¨äºº
   â†’ ç‚¹å‡»ä¾§è¾¹æ "åœæ­¢"æŒ‰é’®
   â†’ ç­‰å¾… 2-3 ç§’

2. ä½¿ç”¨ç¾¤å‘åŠŸèƒ½
   â†’ åŠ è½½åˆ†ç»„
   â†’ é€‰æ‹©ç›®æ ‡
   â†’ å‘é€æ¶ˆæ¯

3. é‡æ–°å¯åŠ¨æœºå™¨äºº
   â†’ ç‚¹å‡»ä¾§è¾¹æ "å¯åŠ¨"æŒ‰é’®
```

## ğŸ” æ£€æŸ¥æ–‡ä»¶

è¿è¡Œåï¼Œä½ çš„é¡¹ç›®ç›®å½•åº”è¯¥æœ‰ä¸¤ä¸ª session æ–‡ä»¶ï¼š

```
D:\AI Talk\
â”œâ”€â”€ userbot_session.session    # main.py ä½¿ç”¨
â”œâ”€â”€ admin_session.session       # admin.py ä½¿ç”¨ âœ¨ æ–°å¢
â””â”€â”€ ...
```

## ğŸ“Š æµ‹è¯•æ­¥éª¤

### æµ‹è¯• 1ï¼šéªŒè¯ç‹¬ç«‹ Session

```bash
# 1. å¯åŠ¨æœºå™¨äºº
streamlit run admin.py
ç‚¹å‡»"å¯åŠ¨"æŒ‰é’®

# 2. åœ¨åŒä¸€ä¸ªç®¡ç†åå°
åˆ‡æ¢åˆ°"æ¶ˆæ¯ç¾¤å‘" Tab
ç‚¹å‡»"åŠ è½½åˆ†ç»„"

# 3. åº”è¯¥æˆåŠŸï¼
âœ… åŠ è½½æˆåŠŸï¼Œæ‰¾åˆ° X ä¸ªåˆ†ç»„
```

### æµ‹è¯• 2ï¼šéªŒè¯é”™è¯¯æç¤º

```bash
# å¦‚æœåˆ é™¤ admin_session.session
del admin_session.session  # Windows
rm admin_session.session   # Linux/Mac

# å†æ¬¡ç‚¹å‡»"åŠ è½½åˆ†ç»„"
# ç¨‹åºä¼šè‡ªåŠ¨å¤åˆ¶å¹¶åˆ›å»ºæ–°çš„ admin_session.session
```

## ğŸ’¡ é¢å¤–æç¤º

### æç¤º 1ï¼šé¦–æ¬¡ç™»å½•
å¦‚æœæ˜¯å…¨æ–°å®‰è£…ï¼Œéœ€è¦å…ˆè¿è¡Œ `main.py` å®Œæˆ Telegram ç™»å½•ï¼š
```bash
python main.py
# è¾“å…¥æ‰‹æœºå·å’ŒéªŒè¯ç 
# ç”Ÿæˆ userbot_session.session
```

### æç¤º 2ï¼šSession åŒæ­¥
ä¸¤ä¸ª session æ–‡ä»¶éƒ½æŒ‡å‘åŒä¸€ä¸ª Telegram è´¦å·ï¼Œä½†ï¼š
- `userbot_session.session` - æœºå™¨äººä¸“ç”¨
- `admin_session.session` - ç®¡ç†åå°ä¸“ç”¨
- äº’ä¸å¹²æ‰°ï¼

### æç¤º 3ï¼šæ¸…ç†æ—§æ–‡ä»¶
å¦‚æœé‡åˆ°å¥‡æ€ªçš„é—®é¢˜ï¼Œå¯ä»¥åˆ é™¤ `admin_session.session`ï¼Œç¨‹åºä¼šè‡ªåŠ¨é‡æ–°åˆ›å»ºï¼š
```bash
# Windows
del admin_session.session

# Linux/Mac
rm admin_session.session
```

## ğŸ”§ æ‰‹åŠ¨ä¿®å¤ï¼ˆé«˜çº§ç”¨æˆ·ï¼‰

å¦‚æœè‡ªåŠ¨ä¿®å¤å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨å¤åˆ¶ï¼š

### Windows
```cmd
copy userbot_session.session admin_session.session
```

### Linux/Mac
```bash
cp userbot_session.session admin_session.session
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦åˆ é™¤ userbot_session.session**
   - è¿™æ˜¯ main.py çš„ç™»å½•å‡­è¯
   - åˆ é™¤åéœ€è¦é‡æ–°ç™»å½•

2. **admin_session.session å¯ä»¥å®‰å…¨åˆ é™¤**
   - ç¨‹åºä¼šè‡ªåŠ¨é‡æ–°åˆ›å»º
   - ä¸éœ€è¦é‡æ–°ç™»å½•

3. **ä¸¤ä¸ªæ–‡ä»¶éƒ½éœ€è¦ä¿å¯†**
   - åŒ…å«ç™»å½•å‡­è¯
   - ä¸è¦åˆ†äº«æˆ–ä¸Šä¼ 

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.1.0 (å½“å‰ç‰ˆæœ¬)
- âœ… æ·»åŠ ç‹¬ç«‹ admin_session æ”¯æŒ
- âœ… è‡ªåŠ¨å¤åˆ¶ session æ–‡ä»¶
- âœ… æ·»åŠ æ•°æ®åº“é”å®šé”™è¯¯æç¤º
- âœ… æ·»åŠ è¿æ¥è¶…æ—¶æœºåˆ¶
- âœ… æ·»åŠ æœºå™¨äººè¿è¡ŒçŠ¶æ€æç¤º

### v1.0.0 (åˆå§‹ç‰ˆæœ¬)
- âŒ ä½¿ç”¨å…±äº« sessionï¼ˆä¼šå¯¼è‡´å†²çªï¼‰

---

## âœ… é—®é¢˜å·²è§£å†³ï¼

ç°åœ¨ä½ å¯ä»¥ï¼š
- âœ… æœºå™¨äººè¿è¡Œæ—¶ä½¿ç”¨ç¾¤å‘åŠŸèƒ½
- âœ… ä¸éœ€è¦é¢‘ç¹åœæ­¢/å¯åŠ¨æœºå™¨äºº
- âœ… é¿å…æ•°æ®åº“é”å®šé”™è¯¯

**äº«å—æ— ç¼çš„ç®¡ç†ä½“éªŒï¼** ğŸ‰


